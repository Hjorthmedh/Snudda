# Examples of neuromodulation

Snudda can import biochemical cascades from SBML and SBtab. For an example see [```data/convert_sbml_to_json.sh```](data/convert_sbml_to_json.sh) and [```data/convert_sbtab_to_json.sh```](data/convert_sbtab_to_json.sh) which uses ```sbml_to_snudda.py``` and ```sbtab_to_snudda.py``` to read in the dopamine cascades. This writes a JSON file in the ```data``` directory, for example [```data/JSON/reaction_diffusion_D1_from_SBTab.json```](data/JSON/reaction_diffusion_D1_from_SBTab.json). To see the cascade in effect, check [```neuromodulation_bath_current-SBTAB.ipynb```](neuromodulation_bath_current-SBTAB.ipynb) notebook which simulates a short bath application of dopamine. Here you can see the biochemical reactions when dopamine binds to the D1 dopamine receptor, leading to an increase of PKA activation (here PKAc). This in turn modulates the ion channels of the model (for details see [```modulation_parameters-v2.json```](modulation_parameters-v2.json). Two simulations are run, one without the dopamine applied, and one with the application of DA. You can compare the voltage traces, and see an increase in firing frequency when dopamine applied.

If you want to only study the cascade, then it is adviced to increase the timestep in [```data/da_experiment_cur_inj_on_bath_sbtab.json```](data/da_experiment_cur_inj_on_bath_sbtab.json) by removing the ```!``` on the line ```"!sim_dt": 0.005,``` this will re-enable the configuration option and give you a longer timestep. The electrophysiological simulations require a finer timestep than the biochemical reaction.



